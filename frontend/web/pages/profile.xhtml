<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
>


<body>

<ui:composition template="/template.xhtml">
    <ui:define name="description">
        <hr class="topbar"/>

        <div class="container">
            <div class="row">
                <div class="col-sm-3">


                    <div class="sidebar-account">
                        <div class="row ">
                            <div class="col-lg-12">
                                <div class="panel panel-default">
                                    <div class="panel-heading">My account</div>
                                    <div class="panel-body">
                                        <ul class="nav">
                                            <li>
                                                <a class="active" href="#">Dashboard</a>
                                            </li>
                                            <li>
                                                <a class="active" href="../pages/postings.xhtml">Manage posts</a>
                                            </li>
                                            <li>
                                                <a class="active"
                                                   href="../announcement_%20create.xhtml">Create new post</a>
                                            </li>
                                        </ul>

                                    </div>
                                </div>


                            </div>
                        </div>

                    </div>


                </div>

                <div class="col-sm-9">
                    <div class="panel panel-default">
                        <div class="panel-heading">Edit profile</div>
                        <div class="panel-body">


                            <h:form class="form-horizontal" enctype="multipart/form-data">
                                <fieldset>
                                    <div class="form-group">

                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-12 control-label">Your logo</label>
                                                <div class="col-sm-11">
                                                    <p:graphicImage url="/PreviewImage?fileId=#{sessionContext.user.id}"
                                                                    width="75px" height="75px"/>
                                                    <br/>

                                                    <span class="btn btn-default btn-file">
                                                                 Click to upload <h:inputFile type="file"
                                                                                              value="#{profileBean.uploadedFile}"/>
                                                                </span>

                                                    <br/>

                                                    <h:commandButton value="Click to Save"
                                                                     rendered="#{sessionContext.user.image==null}"
                                                                     action="#{profileBean.doUploadFile}"
                                                                     styleClass="btn btn-default btn-file"/>


                                                    <br/>

                                                    <h:commandButton rendered="#{sessionContext.user.image!=null}"
                                                                     value="Click to delete"
                                                                     action="#{profileBean.doDeleteFile}"
                                                                     styleClass="btn btn-default btn-file"/>


                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-8">
                                            <br/>
                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">Display name</label>
                                                <div class="col-sm-8">
                                                    <h:inputText value="#{profileBean.user.displayName}" type="email"
                                                                 class="form-control"
                                                                 placeholder="The name you want other people to see"/>
                                                </div>
                                            </div>

                                            <br/>

                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">First name</label>
                                                <div class="col-sm-8">
                                                    <h:inputText value="#{profileBean.user.firstName}" type="email"
                                                                 class="form-control"
                                                                 placeholder="The name you want other people to see"/>
                                                </div>
                                            </div>

                                            <br/>

                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">Last name</label>
                                                <div class="col-sm-8">
                                                    <h:inputText value="#{profileBean.user.lastName}" type="email"
                                                                 class="form-control"
                                                                 placeholder="The name you want other people to see"/>
                                                </div>
                                            </div>

                                            <br/>

                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">Email</label>
                                                <div class="col-sm-8">
                                                    <h:inputText readonly="true" value="#{profileBean.user.email}"
                                                                 type="email" class="form-control"
                                                                 placeholder="The name you want other people to see"/>
                                                </div>
                                            </div>

                                            <br/>

                                            <!--<div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">Password</label>
                                                <div class="col-sm-8">
                                                    <h:inputSecret value="#{profileBean.user.password}" type="email"
                                                                   class="form-control"
                                                                   placeholder="The name you want other people to see"/>
                                                </div>
                                            </div>

                                            <br/>-->


                                            <div class="form-group">
                                                <label for="inputEmail1"
                                                       class="col-sm-4 control-label">Company name</label>
                                                <div class="col-sm-8">
                                                    <h:inputText value="#{profileBean.user.companyName}" type="email"
                                                                 class="form-control"
                                                                 placeholder="Your company name"/>
                                                </div>
                                            </div>


                                            <div class="form-group">
                                                <h:link outcome="changePassword" for="inputEmail1"
                                                        styleClass="col-sm-4 control-label">Change password</h:link>

                                            </div>


                                        </div>

                                        <div class="form-group">
                                            <div class="col-sm-12">
                                                <label for="inputEmail1" style="width: 100%"
                                                       class="control-label">About you</label><br/><br/>
                                                <h:inputTextarea value="#{profileBean.user.aboutYou}"
                                                                 class="form-control col-sm-8" rows="6"
                                                                 style="width: 99%"></h:inputTextarea>
                                            </div>
                                        </div>

                                        <hr/>


                                    </div>

                                    <div class="form-group">
                                        <label for="inputEmail1" class="col-sm-2 control-label">Address</label>
                                        <div class="col-sm-10">
                                            <h:inputText type="email" class="form-control"
                                                         placeholder="Your address"
                                                         value="#{profileBean.user.address}"/>
                                        </div>
                                    </div>


                                    <div class="form-group">
                                        <label for="inputEmail1" class="col-sm-2 control-label">Mobile</label>
                                        <div class="col-sm-10">
                                            <h:inputText type="email" class="form-control"
                                                         value="#{profileBean.user.mobile}"
                                                         placeholder="Your mobile number"/>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="inputEmail1" class="col-sm-2 control-label">Last Visited</label>
                                        <div class="col-sm-10">
                                            <h:outputText type="email" class="form-control"
                                                          value="#{profileBean.user.lastVisit}"
                                                          placeholder="Your mobile number"/>
                                        </div>
                                    </div>


                                    <br/>
                                    <h:commandButton value="Save profile" action="#{profileBean.updateUser}"
                                                     class="btn btn-primary"/>


                                </fieldset>
                            </h:form>


                        </div>
                    </div>
                </div>


            </div>

        </div>


        <!--</div>-->


    </ui:define>
</ui:composition>
</body>


</html>
